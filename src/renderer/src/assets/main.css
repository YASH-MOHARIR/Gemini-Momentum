@import "tailwindcss";

/* ============ CSS Variables ============ */
:root {
  /* Normal Mode Colors */
  --accent-primary: 14 165 233;      /* sky-500 */
  --accent-dark: 2 132 199;          /* sky-600 */
  --accent-light: 56 189 248;        /* sky-400 */
  --header-bg: 30 41 59;             /* slate-800 */
  --mode-indicator: var(--accent-primary);
}

/* Agent Mode Colors */
.agent-mode {
  --accent-primary: 16 185 129;      /* emerald-500 */
  --accent-dark: 5 150 105;          /* emerald-600 */
  --accent-light: 52 211 153;        /* emerald-400 */
  --mode-indicator: 16 185 129;
}

/* ============ Base Styles ============ */
body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ============ Theme Transitions ============ */
.theme-transition,
.theme-transition *,
.theme-transition *::before,
.theme-transition *::after {
  transition: background-color 0.4s ease, 
              border-color 0.4s ease, 
              color 0.3s ease,
              box-shadow 0.3s ease !important;
}

/* ============ Agent Mode Visual Changes ============ */

/* Subtle background gradient in agent mode */
.agent-mode .agent-bg {
  background: linear-gradient(
    135deg, 
    rgb(15 23 42) 0%,           /* slate-900 */
    rgb(6 78 59 / 0.15) 100%    /* emerald tint */
  );
}

/* Pulsing glow effect for active indicator */
.agent-mode .agent-active-glow {
  box-shadow: 0 0 20px rgb(16 185 129 / 0.3),
              0 0 40px rgb(16 185 129 / 0.1);
  animation: agent-pulse 2s ease-in-out infinite;
}

@keyframes agent-pulse {
  0%, 100% {
    box-shadow: 0 0 20px rgb(16 185 129 / 0.3),
                0 0 40px rgb(16 185 129 / 0.1);
  }
  50% {
    box-shadow: 0 0 30px rgb(16 185 129 / 0.5),
                0 0 60px rgb(16 185 129 / 0.2);
  }
}

/* Agent mode header accent */
.agent-mode .header-accent {
  border-bottom: 2px solid rgb(16 185 129 / 0.5);
}

/* Status dot animation */
.status-dot-pulse {
  animation: dot-pulse 1.5s ease-in-out infinite;
}

@keyframes dot-pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.6; transform: scale(1.2); }
}

/* ============ Agent Panel Styles ============ */

.agent-panel {
  background: linear-gradient(
    180deg,
    rgb(30 41 59) 0%,           /* slate-800 */
    rgb(6 78 59 / 0.1) 100%     /* emerald tint */
  );
}

.agent-rule-input {
  background: rgb(15 23 42);    /* slate-900 */
  border: 1px solid rgb(51 65 85);  /* slate-700 */
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.agent-rule-input:focus {
  border-color: rgb(16 185 129);  /* emerald-500 */
  box-shadow: 0 0 0 2px rgb(16 185 129 / 0.2);
  outline: none;
}

/* Activity feed item */
.activity-item {
  border-left: 3px solid transparent;
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

.activity-item.success {
  border-left-color: rgb(16 185 129);  /* emerald-500 */
}

.activity-item.error {
  border-left-color: rgb(239 68 68);   /* red-500 */
}

.activity-item.skipped {
  border-left-color: rgb(100 116 139); /* slate-500 */
}

.activity-item:hover {
  background: rgb(51 65 85 / 0.3);     /* slate-700 with alpha */
}

/* ============ Custom Scrollbar ============ */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #1e293b;
}

::-webkit-scrollbar-thumb {
  background: #475569;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #64748b;
}

/* Agent mode scrollbar accent */
.agent-mode ::-webkit-scrollbar-thumb {
  background: rgb(5 150 105 / 0.6);  /* emerald-600 */
}

.agent-mode ::-webkit-scrollbar-thumb:hover {
  background: rgb(16 185 129 / 0.8); /* emerald-500 */
}

/* ============ Electron Window Drag ============ */
.drag-region {
  -webkit-app-region: drag;
}

.no-drag {
  -webkit-app-region: no-drag;
}

/* ============ Utility Classes ============ */

/* Use accent color dynamically */
.bg-accent {
  background-color: rgb(var(--accent-primary));
}

.bg-accent-dark {
  background-color: rgb(var(--accent-dark));
}

.text-accent {
  color: rgb(var(--accent-primary));
}

.text-accent-light {
  color: rgb(var(--accent-light));
}

.border-accent {
  border-color: rgb(var(--accent-primary));
}

/* Hover variants */
.hover\:bg-accent:hover {
  background-color: rgb(var(--accent-primary));
}

.hover\:bg-accent-dark:hover {
  background-color: rgb(var(--accent-dark));
}

/* Add these animations to your src/renderer/src/assets/main.css */

/* ============ File Highlight Animations (3 seconds) ============ */

/* Delete - Red pulse */
@keyframes highlight-delete {
  0%, 100% {
    background-color: rgba(239, 68, 68, 0.3);
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
  }
  50% {
    background-color: rgba(239, 68, 68, 0.5);
    box-shadow: 0 0 8px 2px rgba(239, 68, 68, 0.4);
  }
}

.animate-highlight-delete {
  animation: highlight-delete 1s ease-in-out 3;
}

/* New file - Green pulse */
@keyframes highlight-new {
  0%, 100% {
    background-color: rgba(16, 185, 129, 0.3);
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
  }
  50% {
    background-color: rgba(16, 185, 129, 0.5);
    box-shadow: 0 0 8px 2px rgba(16, 185, 129, 0.4);
  }
}

.animate-highlight-new {
  animation: highlight-new 1s ease-in-out 3;
}

/* Update - Blue pulse */
@keyframes highlight-update {
  0%, 100% {
    background-color: rgba(59, 130, 246, 0.3);
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4);
  }
  50% {
    background-color: rgba(59, 130, 246, 0.5);
    box-shadow: 0 0 8px 2px rgba(59, 130, 246, 0.4);
  }
}

.animate-highlight-update {
  animation: highlight-update 1s ease-in-out 3;
}

/* Smooth transition for highlight removal */
.animate-highlight-delete,
.animate-highlight-new,
.animate-highlight-update {
  transition: all 0.3s ease-out;
}